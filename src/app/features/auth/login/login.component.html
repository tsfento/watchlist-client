<div class="login-container">

  <!-- login/signup toggle -->
  <div class="toggle-bar" [class.active]="!isLoggingIn">
    <input #login_toggle name="nav" type="radio" class="nav login-radio" id="login" value="login" (change)="switchLoginOrSignUp(login_toggle.value)" checked="{{ isLoggingIn ? 'checked' : '' }}" />
    <label class="nav" for="login">
      <span>Login</span>
    </label>
    <input #signup_toggle name="nav" type="radio" class="login-radio" id="signup" value="signup" (change)="switchLoginOrSignUp(signup_toggle.value)" checked="{{ !isLoggingIn ? 'checked' : '' }}"/>
    <label class="nav" for="signup">
      <span>Sign Up</span>
    </label>
  </div>
  <!-- end login/signup toggle -->

  @if (isLoggingIn) {
    <!-- login -->
    <form [formGroup]="loginForm" (ngSubmit)="login()">
      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" formControlName="username">
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" formControlName="password">
      </div>
      @if (loginError !== '') {
        <div class="alert alert-danger error">
          <span>{{ loginError }}</span>
        </div>
      }
      <button type="submit" [disabled]="!loginForm.valid">Login</button>
    </form>
    <!-- end login -->
  }

  @if (!isLoggingIn) {
    <!-- sign up -->
    <form [formGroup]="signUpForm" (ngSubmit)="signUp()">
      <div class="form-group">
        <label for="email">Email</label>
        <input type="text" formControlName="email">
      </div>
      @if (emailError !== '') {
        <div class="alert alert-danger error">
          <span>{{ emailError }}</span>
        </div>
      }
      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" formControlName="username">
      </div>
      @if (usernameError !== '') {
        <div class="alert alert-danger error">
          <span>{{ usernameError }}</span>
        </div>
      }
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" formControlName="password">
      </div>
      @if (passwordError !== '') {
        <div class="alert alert-danger error">
          <span>{{ passwordError }}</span>
        </div>
      }
      <div class="form-group">
        <label for="password_confirmation">Confirm Password</label>
        <input type="password" formControlName="password_confirmation">
      </div>
      @if (confirmationError !== '') {
        <div class="alert alert-danger error">
          <span>{{ confirmationError }}</span>
        </div>
      }
      <button type="submit" [disabled]="!signUpForm.valid">Sign Up</button>
    </form>
    <!-- end sign up -->
  }
</div>
